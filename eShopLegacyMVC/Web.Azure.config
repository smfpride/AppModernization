<?xml version="1.0" encoding="utf-8"?>
<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <connectionStrings>
    <!-- Transform connection string for Azure SQL Database -->
    <!-- Configure these environment variables for deployment:
         SQL_SERVER - Azure SQL Server name (e.g., sql-eshop-prototype-eastus2.database.windows.net)
         SQL_DATABASE - Database name (e.g., CatalogDb)
         SQL_USER - SQL Server username
         SQL_PASSWORD - SQL Server password -->
    <add name="CatalogDBContext" 
         connectionString="Server=tcp:{SQL_SERVER},1433;Initial Catalog={SQL_DATABASE};Persist Security Info=False;User ID={SQL_USER};Password={SQL_PASSWORD};MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;" 
         providerName="System.Data.SqlClient" 
         xdt:Transform="SetAttributes" 
         xdt:Locator="Match(name)" />
  </connectionStrings>
  
  <appSettings>
    <!-- Ensure mock data is disabled in Azure -->
    <add key="UseMockData" value="false" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
    <add key="UseCustomizationData" value="false" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
  </appSettings>
  
  <system.web>
    <!-- Disable debug mode for Azure -->
    <compilation xdt:Transform="RemoveAttributes(debug)" />
  </system.web>
</configuration>